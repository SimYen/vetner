<div class="container" style="margin-top:70px">

  <% if notice %>
  <div class="row">
    <div class="col">
      <div class="alert alert-info alert-dismissible fade show" role="alert">
        <p id="notice" class="p-0 m-0"><%= notice %></p>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
  </div>
  <% end %>

  <div class="row">
    <div class="col-12 col-md-4">
      <div class="row">
        <div class="col-6 col-md-6">
          <% if @user_profile.image.attached? %>
            <img src=<%= (url_for(@user_profile.image)) %> alt="" width="150px">
          <% else %>
            <img src=<%= image_url "defaultProfile.jpeg"%> alt="" width="150px">
          <% end %>
        </div>
        <div class="col-6 col-md-6">
          <h3><%= @user_profile.username %></h3>
          <%= link_to 'Edit Profile', edit_user_profile_path(@user_profile), class: "btn btn-primary" %>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-8">
      <ul class="list-group list-group-flush">
        <li class="list-group-item"><i class="fas fa-user mr-2"></i><%= @user_profile.first_name %> <%= @user_profile.last_name %></li>
        <li class="list-group-item"><i class="fas fa-map-marker-alt mr-2"></i><%= @user_profile.address %></li>
        <li class="list-group-item"><i class="fas fa-phone mr-2"></i><%= @user_profile.phone %></li>
        <li class="list-group-item"><i class="fas fa-envelope mr-2"></i><%= @user_profile.user.email %></li>
      </ul>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col">
      <ul class="nav nav-tabs" id="pet-vet-tab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="home-tab" data-toggle="tab" href="#pet" role="tab" aria-controls="pet" aria-selected="true">Pet</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="profile-tab" data-toggle="tab" href="#vet" role="tab" aria-controls="vet" aria-selected="false">Vet</a>
        </li>
      </ul>
      <!-- tab for pet: -->
      <div class="tab-content" id="petVetTabContent">
        <div class="tab-pane fade show active" id="pet" role="tabpanel" aria-labelledby="pet-tab">
          <div class="container mt-3">
            <%= link_to 'New Pet', new_pet_path %>
            <div class="row">
              <% @pets.each do |p| %>
                <div class="col-12 col-md-6">
                  <div class="card mb-3" style="max-width: 540px;">
                    <div class="row no-gutters">
                      <div class="col-md-4">
                        <% if p.image.attached? %>
                          <img src=<%= (url_for(p.image)) %> class="card-img" alt="" width="140px">
                        <% else %>
                          <img src=<%= image_url "defaultAnimal.png"%> class="card-img" alt="" width="140px">
                        <% end %>
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title">
                            <%= link_to p.name, pet_path(p), class: "text-primary" %>
                          </h5>
                          <p class="card-text">
                            <p>Born: <%= p.date_of_birth %></p>
                            <p>Breed: <%= p.breed %></p>
                            <%= link_to raw("<i class='fas fa-eye mr-3'></i>"), pet_path(p), class: "text-secondary" %>
                            <%= link_to raw("<i class='fas fa-edit ml-3'></i>"), edit_pet_path(p), class: "text-secondary" %>
                          </p>
                          <p class="card-text"><small class="text-muted">Last updated: <%= p.updated_at.strftime("%c")  %></small></p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          </div>
        </div>
        <!-- tab for vet: -->
        <div class="tab-pane fade" id="vet" role="tabpanel" aria-labelledby="vet-tab">
          <div class="container mt-3">
            <div class="row">
              <% @vet_profiles.each do |vp| %>
                <div class="col-12 col-md-6">
                  <div class="card mb-3" style="max-width: 540px;">
                    <div class="row no-gutters">
                      <div class="col-md-4">
                        <img src=<%= vp.image %> class="card-img" alt="...">
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title">
                          <%= link_to vp.clinic_name, vet_profile_path(vp), class: "text-primary" %>
                          </h5>
                          <p class="card-text">
                            <p><i class="fas fa-map-marker-alt mr-2"></i><%= vp.address %></p>
                            <p><i class="fas fa-phone mr-2"></i><%= vp.phone %></p>
                            <p><i class="far fa-clock mr-2"></i><%= vp.hours %></p>
                            <p><i class="fas fa-briefcase-medical mr-2"></i><%= vp.services %></p>
                            <%= link_to raw("<i class='fas fa-eye mr-3'></i>"), vet_profile_path(vp), class: "text-secondary", id: vp %>
                          </p>
                          <p class="card-text"><small class="text-muted">Last updated:<%= vp.updated_at.strftime("%c") %></small></p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>
